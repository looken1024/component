## 在SQL语句的分页查询中，limit 500000,10和limit 10速度一样快吗？

limit语句通常用于数据分页查询

主要考察：对数据库查询语句的优化、性能调优的了解

limit 500000,10表示从结果集中的第500000行开始，返回10行数据

limit 10表示返回结果集中的前10行数据

速度差异取决于两个因素：

1、数据量

数据量小：差别不是很大

数据量大：limit 500000,10将会跳过大量的数据行才能返回i结果；而limit 10不需要跳过这些数据行

2、索引

有合适的索引：limit 50000,10可以通过索引直接定位到指定的行号返回结果；limit 10只需要返回前10行

因此，limit 500000,10的查询肯定比limit 10的要慢一些，随着数据量的增加，前者的查询速度会更慢

优化：

1、SQL语句

假设存在主键id，先使用子查询的结果作为过滤条件，从第500000行的主键值开始获取10行数据，可以跳过大量的数据行，提高查询效率

```sql
select *
from user
where id >= (select id
        from user
        order by id
        limit 1 offset 499999)
order by id
limit 10;
```

2、从业务层面优化

很少会出现翻500000行查询一个数据，这种设计本身存在问题

如果涉及到大量数据的翻页查询，可以尝试做冷热数据分离，减少热数据的查询量，或者针对运营要用的数据做一些分析，形成固化表以后展示出来。




